var e,t,a,o,r,n,i,s,c={44:e=>{e.exports=require("canvas")},173:(e,t,a)=>{a.a(e,(async(e,o)=>{try{a.d(t,{fN:()=>r.fN,kt:()=>r.kt,m_:()=>n.m,zS:()=>r.zS});var r=a(633),n=a(248),i=e([n]);n=(i.then?(await i)():i)[0],o()}catch(e){o(e)}}))},248:(e,t,a)=>{a.a(e,(async(e,o)=>{try{let r;if(a.d(t,{m:()=>n}),"undefined"==typeof window){const i=await Promise.resolve().then(a.t.bind(a,44,19));r=i.loadImage}async function n(e){let t;if("undefined"==typeof window)t=await r(e);else{if(!(e instanceof HTMLImageElement))throw new Error("Di lingkungan browser, validateImage mengharapkan HTMLImageElement.");t=e}if(t.width<300||t.height<300)throw new Error("Resolusi gambar terlalu rendah. Minimal 300x300 piksel.")}o()}catch(s){o(s)}}),1)},633:(e,t,a)=>{a.d(t,{fN:()=>n,kt:()=>o,zS:()=>i});let o=null,r=!1;async function n(e){if(!o&&(console.log("[faceDetection.js]: Dynamically importing face-api.js..."),o=await Promise.all([a.e(232),a.e(997)]).then(a.bind(a,232)),"undefined"==typeof window))try{const{createCanvas:e,loadImage:t,ImageData:r}=await Promise.resolve().then(a.t.bind(a,44,19)),n=e(1,1);o.env.monkeyPatch({Canvas:n.constructor,Image:t,ImageData:r}),console.log("[faceDetection.js]: face-api.js monkey-patched for Node.js environment.")}catch(e){console.warn("[faceDetection.js]: Could not monkey-patch face-api.js in Node.js environment. Error:",e)}r||(console.log("[faceDetection.js]: Loading face-api.js models..."),"undefined"==typeof window?(await o.nets.ssdMobilenetv1.loadFromDisk(e),await o.nets.faceLandmark68Net.loadFromDisk(e),await o.nets.faceRecognitionNet.loadFromDisk(e),console.log("[faceDetection.js]: Models loaded from disk (Node.js).")):(await o.nets.ssdMobilenetv1.loadFromUri(e),await o.nets.faceLandmark68Net.loadFromUri(e),await o.nets.faceRecognitionNet.loadFromUri(e),console.log("[faceDetection.js]: Models loaded from URI (Browser).")),r=!0)}async function i(e){if(!o||!r)throw new Error("Face-API.js library or models not loaded. Call loadModelsLazy() first.");let t,n;if("undefined"==typeof window){const{loadImage:r,createCanvas:i}=await Promise.resolve().then(a.t.bind(a,44,19)),s=await r(e),c=i(s.width,s.height);c.getContext("2d").drawImage(s,0,0,s.width,s.height),n=o.tf.browser.fromPixels(c),t=c}else{if(!(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement))throw new Error("Di lingkungan browser, detectFace mengharapkan HTMLImageElement, HTMLCanvasElement, atau HTMLVideoElement.");t=e}const i=await o.detectAllFaces(t).withFaceLandmarks().withFaceDescriptors();return n&&n.dispose(),i}}},l={};function f(e){var t=l[e];if(void 0!==t)return t.exports;var a=l[e]={exports:{}};return c[e](a,a.exports,f),a.exports}f.m=c,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},f.a=(r,n,i)=>{var s;i&&((s=[]).d=-1);var c,l,f,d=new Set,m=r.exports,w=new Promise(((e,t)=>{f=t,l=e}));w[t]=m,w[e]=e=>(s&&e(s),d.forEach(e),w.catch((e=>{}))),r.exports=w,n((r=>{var n;c=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var n=[];n.d=0,r.then((e=>{i[t]=e,o(n)}),(e=>{i[a]=e,o(n)}));var i={};return i[e]=e=>e(n),i}}var s={};return s[e]=e=>{},s[t]=r,s})))(r);var i=()=>c.map((e=>{if(e[a])throw e[a];return e[t]})),l=new Promise((t=>{(n=()=>t(i)).r=0;var a=e=>e!==s&&!d.has(e)&&(d.add(e),e&&!e.d&&(n.r++,e.push(n)));c.map((t=>t[e](a)))}));return n.r?l:i()}),(e=>(e?f(w[a]=e):l(m),o(s)))),s&&s.d<0&&(s.d=0)},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,f.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var a=Object.create(null);f.r(a);var o={};r=r||[null,n({}),n([]),n(n)];for(var i=2&t&&e;"object"==typeof i&&!~r.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,f.d(a,o),a},f.d=(e,t)=>{for(var a in t)f.o(t,a)&&!f.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},f.f={},f.e=e=>Promise.all(Object.keys(f.f).reduce(((t,a)=>(f.f[a](e,t),t)),[])),f.u=e=>e+"."+{232:"41a871c28c206951ad63",997:"f74699fc1e749d293166"}[e]+".bundle.js",f.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),f.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),f.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i={792:0},s=e=>{var t,a,{__webpack_ids__:o,__webpack_modules__:r,__webpack_runtime__:n}=e,s=0;for(t in r)f.o(r,t)&&(f.m[t]=r[t]);for(n&&n(f);s<o.length;s++)a=o[s],f.o(i,a)&&i[a]&&i[a][0](),i[o[s]]=0},f.f.j=(e,t)=>{var a=f.o(i,e)?i[e]:void 0;if(0!==a)if(a)t.push(a[1]);else{var o=import("./"+f.u(e)).then(s,(t=>{throw 0!==i[e]&&(i[e]=void 0),t}));o=Promise.race([o,new Promise((t=>a=i[e]=[t]))]),t.push(a[1]=o)}};var d=f(173);const m=(d=await d).zS,w=d.kt,u=d.fN,p=d.m_;export{m as detectFace,w as faceapi,u as loadModelsLazy,p as validateImage};